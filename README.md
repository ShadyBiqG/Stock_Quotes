# Stock Quotes Analyzer üìà

**–í–µ—Ä—Å–∏—è 3.0** - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ –∫–æ—Ç–∏—Ä–æ–≤–æ–∫ –∞–∫—Ü–∏–π —á–µ—Ä–µ–∑ OpenRouter API —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö LLM –º–æ–¥–µ–ª–µ–π (GPT-4, Claude 3, Gemini Pro).

> üÜï **v3.0**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ –∫–æ—Ç–∏—Ä–æ–≤–æ–∫ —á–µ—Ä–µ–∑ Yahoo Finance, —É–ª—É—á—à–µ–Ω–Ω–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–º–ø–∞–Ω–∏—è–º–∏ —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

---

## üìë –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- [‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏](#-–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏)
- [üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç](#-–±—ã—Å—Ç—Ä—ã–π-—Å—Ç–∞—Ä—Ç)
- [‚öôÔ∏è –ì–¥–µ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏](#Ô∏è-–≥–¥–µ-–Ω–∞—Ö–æ–¥—è—Ç—Å—è-–≤—Å–µ-–Ω–∞—Å—Ç—Ä–æ–π–∫–∏-v30)
- [üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞](#-—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-–ø—Ä–æ–µ–∫—Ç–∞-v30)
- [üìä –§–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö](#-—Ñ–æ—Ä–º–∞—Ç-–¥–∞–Ω–Ω—ã—Ö-v30)
- [üí∞ –ü—Ä–∏–º–µ—Ä–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å](#-–ø—Ä–∏–º–µ—Ä–Ω–∞—è-—Å—Ç–æ–∏–º–æ—Å—Ç—å)
- [üåê –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å](#-–≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å)
- [‚è∞ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫](#-–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π-–∑–∞–ø—É—Å–∫)
- [üõ°Ô∏è –ó–∞—â–∏—Ç–∞ –æ—Ç –≥–∞–ª–ª—é—Ü–∏–Ω–∞—Ü–∏–π](#Ô∏è-–∑–∞—â–∏—Ç–∞-–æ—Ç-–≥–∞–ª–ª—é—Ü–∏–Ω–∞—Ü–∏–π)
- [üì± –î–æ—Å—Ç—É–ø —Å –º–æ–±–∏–ª—å–Ω–æ–≥–æ](#-–¥–æ—Å—Ç—É–ø-—Å-–º–æ–±–∏–ª—å–Ω–æ–≥–æ)
- [üê≥ –î–µ–ø–ª–æ–π —Å Docker](#-–¥–µ–ø–ª–æ–π-—Å-docker)
- [üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å](#-–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å)
- [ü§ù –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∏ Troubleshooting](#-–ø–æ–¥–¥–µ—Ä–∂–∫–∞-–∏-troubleshooting)
- [üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è](#-–ª–∏—Ü–µ–Ω–∑–∏—è)
- [üìù –ò—Å—Ç–æ—Ä–∏—è –≤–µ—Ä—Å–∏–π](#-–∏—Å—Ç–æ—Ä–∏—è-–≤–µ—Ä—Å–∏–π)
- [üéØ Roadmap](#-roadmap)

---

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- ü§ñ **–ê–Ω–∞–ª–∏–∑ —á–µ—Ä–µ–∑ 3 LLM –º–æ–¥–µ–ª–∏** - –∫–æ–Ω—Å–µ–Ω—Å—É—Å –ø–æ–≤—ã—à–∞–µ—Ç —Ç–æ—á–Ω–æ—Å—Ç—å
- üìä **–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –¥–∞—à–±–æ—Ä–¥—ã** - –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Ç—Ä–µ–Ω–¥–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- üì± **–ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å** - —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–µ –∏ –∫–æ–º–ø—å—é—Ç–µ—Ä–µ
- üîÑ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é** - –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–π –∞–Ω–∞–ª–∏–∑
- üíæ **–ò—Å—Ç–æ—Ä–∏—è –¥–∞–Ω–Ω—ã—Ö** - –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Ç—Ä–µ–Ω–¥–æ–≤ –≤–æ –≤—Ä–µ–º–µ–Ω–∏
- üìà **–ê–Ω–∞–ª–∏–∑ —Ç–æ—á–Ω–æ—Å—Ç–∏** - —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –º–æ–¥–µ–ª–µ–π
- üõ°Ô∏è **–ó–∞—â–∏—Ç–∞ –æ—Ç –≥–∞–ª–ª—é—Ü–∏–Ω–∞—Ü–∏–π** - –º–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–æ–≤
- üìÑ **–≠–∫—Å–ø–æ—Ä—Ç –≤ Excel** - —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ—Ç—á–µ—Ç—ã

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### Windows - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π —Å–ø–æ—Å–æ–±:**

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ `bin\setup.bat` - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø—Ä–∏–º–µ—Ä—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:
   ```bash
   copy config\api_keys.example.yaml config\api_keys.yaml
   copy config\llm_config.example.yaml config\llm_config.yaml
   copy config\companies.example.json config\companies.json
   ```
3. –î–æ–±–∞–≤—å—Ç–µ API –∫–ª—é—á –≤ `config/api_keys.yaml`
4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ `bin\quick_start.bat` –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Å—Ç–∞—Ä—Ç–∞

### –†—É—á–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
python -m venv venv

# Windows
venv\Scripts\activate

# Linux/Mac
source venv/bin/activate

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
pip install -r requirements.txt
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (v3.0)

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏–∑ –ø—Ä–∏–º–µ—Ä–æ–≤:

```bash
# Windows
copy config\api_keys.example.yaml config\api_keys.yaml
copy config\llm_config.example.yaml config\llm_config.yaml
copy config\companies.example.json config\companies.json

# Linux/Mac
cp config/api_keys.example.yaml config/api_keys.yaml
cp config/llm_config.example.yaml config/llm_config.yaml
cp config/companies.example.json config/companies.json
```

–ü–æ–ª—É—á–∏—Ç–µ API –∫–ª—é—á –Ω–∞ [openrouter.ai](https://openrouter.ai/) –∏ –¥–æ–±–∞–≤—å—Ç–µ –≤ `config/api_keys.yaml`:

```yaml
openrouter_api_key: "sk-or-v1-–≤–∞—à-–∫–ª—é—á-–∑–¥–µ—Å—å"
```

üí° **–°–æ–≤–µ—Ç:** –ü–æ–ø–æ–ª–Ω–∏—Ç–µ –±–∞–ª–∞–Ω—Å –Ω–∞ $10-20 –¥–ª—è –Ω–∞—á–∞–ª–∞ —Ä–∞–±–æ—Ç—ã

### 2.1. –ú–∏–≥—Ä–∞—Ü–∏—è —Å v2.x (–µ—Å–ª–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç–µ—Å—å)

–ï—Å–ª–∏ —É –≤–∞—Å —É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –≤–µ—Ä—Å–∏—è 2.x, –∑–∞–ø—É—Å—Ç–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏—é:

```bash
python scripts/migrate_to_v3.py
```

–ü–æ–¥—Ä–æ–±–Ω–µ–µ: [–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –º–∏–≥—Ä–∞—Ü–∏–∏](docs/ru/–ú–ò–ì–†–ê–¶–ò–Ø_V3.md)

### 3. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö (v3.0)

**–°–ø–∏—Å–æ–∫ –∫–æ–º–ø–∞–Ω–∏–π —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ `config/companies.json`**

–î–æ–±–∞–≤—å—Ç–µ –∫–æ–º–ø–∞–Ω–∏–∏ –æ–¥–Ω–∏–º –∏–∑ —Å–ø–æ—Å–æ–±–æ–≤:

**–í–∞—Ä–∏–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)**
1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ: `streamlit run app.py`
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ "–ù–∞—Å—Ç—Ä–æ–π–∫–∏" ‚Üí "–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–º–ø–∞–Ω–∏—è–º–∏"
3. –î–æ–±–∞–≤—å—Ç–µ –∫–æ–º–ø–∞–Ω–∏–∏ –ø–æ —Ç–∏–∫–µ—Ä—É (–Ω–∞–ø—Ä–∏–º–µ—Ä, AAPL, GOOGL, MSFT)
4. –¶–µ–Ω—ã –∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø–æ–ª—É—á–∞—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ Yahoo Finance

**–í–∞—Ä–∏–∞–Ω—Ç 2: –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ JSON –≤—Ä—É—á–Ω—É—é**
- –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `config/companies.json`
- –î–æ–±–∞–≤—å—Ç–µ —Ç–∏–∫–µ—Ä—ã –≤ –º–∞—Å—Å–∏–≤ `companies`
- –ü—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–º –∑–∞–ø—É—Å–∫–µ –¥–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç –ø–æ–ª—É—á–µ–Ω—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

**–ü—Ä–∏–º–µ—Ä `companies.json`:**
```json
{
  "companies": [
    {"ticker": "AAPL"},
    {"ticker": "GOOGL"},
    {"ticker": "MSFT"}
  ],
  "last_updated": "2026-02-04T12:00:00"
}
```

### 4. –ó–∞–ø—É—Å–∫

**–ß–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è):**
```bash
# Windows
bin\start_web.bat

# Linux/Mac
streamlit run app.py
```

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ—Ç–∫—Ä–æ–µ—Ç—Å—è –Ω–∞ `http://localhost:8501`

**–ß–µ—Ä–µ–∑ CLI:**
```bash
# Windows
bin\start.bat

# Linux/Mac
python main.py
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ (v3.0)

```
Stock_Quotes/
‚îú‚îÄ‚îÄ bin/                        # –°–∫—Ä–∏–ø—Ç—ã –∑–∞–ø—É—Å–∫–∞ (.bat —Ñ–∞–π–ª—ã)
‚îÇ   ‚îú‚îÄ‚îÄ setup.bat               # –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
‚îÇ   ‚îú‚îÄ‚îÄ start.bat               # –ó–∞–ø—É—Å–∫ CLI
‚îÇ   ‚îú‚îÄ‚îÄ start_web.bat           # –ó–∞–ø—É—Å–∫ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
‚îÇ   ‚îú‚îÄ‚îÄ start_scheduler.bat     # –ó–∞–ø—É—Å–∫ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ quick_start.bat         # –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (—Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π v3.0)
‚îÇ   ‚îî‚îÄ‚îÄ clear_database.bat      # –û—á–∏—Å—Ç–∫–∞ –ë–î
‚îú‚îÄ‚îÄ config/                     # üÜï –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è v3.0
‚îÇ   ‚îú‚îÄ‚îÄ api_keys.yaml           # API –∫–ª—é—á–∏ (–≤ .gitignore)
‚îÇ   ‚îú‚îÄ‚îÄ llm_config.yaml         # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ LLM (–≤ .gitignore)
‚îÇ   ‚îú‚îÄ‚îÄ companies.json          # –°–ø–∏—Å–æ–∫ –∫–æ–º–ø–∞–Ω–∏–π (–≤ .gitignore)
‚îÇ   ‚îú‚îÄ‚îÄ api_keys.example.yaml   # –ü—Ä–∏–º–µ—Ä API –∫–ª—é—á–µ–π
‚îÇ   ‚îú‚îÄ‚îÄ llm_config.example.yaml # –ü—Ä–∏–º–µ—Ä –Ω–∞—Å—Ç—Ä–æ–µ–∫ LLM
‚îÇ   ‚îî‚îÄ‚îÄ companies.example.json  # –ü—Ä–∏–º–µ—Ä —Å–ø–∏—Å–∫–∞ –∫–æ–º–ø–∞–Ω–∏–π
‚îú‚îÄ‚îÄ docs/                       # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ en/                     # –ê–Ω–≥–ª–∏–π—Å–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ MIGRATION_V3.md     # üÜï –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –º–∏–≥—Ä–∞—Ü–∏–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ DEPLOYMENT.md       # –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ...                 # –î—Ä—É–≥–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ ru/                     # –†—É—Å—Å–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îÇ       ‚îú‚îÄ‚îÄ –ú–ò–ì–†–ê–¶–ò–Ø_V3.md      # üÜï –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –º–∏–≥—Ä–∞—Ü–∏–∏
‚îÇ       ‚îú‚îÄ‚îÄ –ó–ê–ü–£–°–ö.txt          # –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –∑–∞–ø—É—Å–∫—É
‚îÇ       ‚îî‚îÄ‚îÄ ...                 # –î—Ä—É–≥–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã
‚îú‚îÄ‚îÄ scripts/                    # –£—Ç–∏–ª–∏—Ç—ã –∏ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ migrate_to_v3.py        # üÜï –ú–∏–≥—Ä–∞—Ü–∏—è –Ω–∞ v3.0
‚îÇ   ‚îú‚îÄ‚îÄ check_database.py       # –ü—Ä–æ–≤–µ—Ä–∫–∞ –ë–î
‚îÇ   ‚îú‚îÄ‚îÄ clear_database.py       # –û—á–∏—Å—Ç–∫–∞ –ë–î
‚îÇ   ‚îî‚îÄ‚îÄ ...                     # –î—Ä—É–≥–∏–µ —É—Ç–∏–ª–∏—Ç—ã
‚îú‚îÄ‚îÄ src/                        # –û—Å–Ω–æ–≤–Ω–æ–π –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ data_loader.py          # –ß—Ç–µ–Ω–∏–µ JSON/Excel (–æ–±–Ω–æ–≤–ª–µ–Ω–æ v3.0)
‚îÇ   ‚îú‚îÄ‚îÄ price_fetcher.py        # üÜï Yahoo Finance API
‚îÇ   ‚îú‚îÄ‚îÄ llm_manager.py          # OpenRouter –∫–ª–∏–µ–Ω—Ç
‚îÇ   ‚îú‚îÄ‚îÄ analyzer.py             # –õ–æ–≥–∏–∫–∞ –∞–Ω–∞–ª–∏–∑–∞
‚îÇ   ‚îú‚îÄ‚îÄ database.py             # SQLite –±–∞–∑–∞ (–æ–±–Ω–æ–≤–ª–µ–Ω–æ v3.0)
‚îÇ   ‚îú‚îÄ‚îÄ excel_exporter.py       # –≠–∫—Å–ø–æ—Ä—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ company_info.py         # –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–æ–º–ø–∞–Ω–∏—è—Ö
‚îÇ   ‚îî‚îÄ‚îÄ dashboards/             # –°—Ç—Ä–∞–Ω–∏—Ü—ã –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ       ‚îú‚îÄ‚îÄ overview.py         # –û–±–∑–æ—Ä
‚îÇ       ‚îú‚îÄ‚îÄ analysis.py         # –ê–Ω–∞–ª–∏–∑
‚îÇ       ‚îú‚îÄ‚îÄ history.py          # –ò—Å—Ç–æ—Ä–∏—è
‚îÇ       ‚îú‚îÄ‚îÄ accuracy.py         # –¢–æ—á–Ω–æ—Å—Ç—å
‚îÇ       ‚îî‚îÄ‚îÄ settings.py         # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ (–æ–±–Ω–æ–≤–ª–µ–Ω–æ v3.0)
‚îú‚îÄ‚îÄ data/                       # –î–∞–Ω–Ω—ã–µ
‚îÇ   ‚îú‚îÄ‚îÄ cache/                  # –ö—ç—à –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îî‚îÄ‚îÄ *.db                    # SQLite –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ output/                     # –í—ã—Ö–æ–¥–Ω—ã–µ —Ñ–∞–π–ª—ã
‚îÇ   ‚îî‚îÄ‚îÄ exports/                # Excel –æ—Ç—á–µ—Ç—ã
‚îú‚îÄ‚îÄ logs/                       # –õ–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ deploy/                     # –§–∞–π–ª—ã –¥–ª—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ docker-compose.yml      # Docker Compose –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ .env.example            # –ü—Ä–∏–º–µ—Ä –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ .gitignore                  # –ò–≥–Ω–æ—Ä–∏—Ä—É–µ–º—ã–µ —Ñ–∞–π–ª—ã (–æ–±–Ω–æ–≤–ª–µ–Ω–æ v3.0)
‚îú‚îÄ‚îÄ config.example.yaml         # Legacy: –ø—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ v2.x
‚îú‚îÄ‚îÄ requirements.txt            # Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ Dockerfile                  # Docker –æ–±—Ä–∞–∑
‚îú‚îÄ‚îÄ README.md                   # –≠—Ç–æ—Ç —Ñ–∞–π–ª
‚îú‚îÄ‚îÄ main.py                     # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ CLI (–æ–±–Ω–æ–≤–ª–µ–Ω–æ v3.0)
‚îú‚îÄ‚îÄ app.py                      # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–æ–±–Ω–æ–≤–ª–µ–Ω–æ v3.0)
‚îî‚îÄ‚îÄ scheduler.py                # –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á
```

## üìä –§–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö (v3.0)

### –°–ø–∏—Å–æ–∫ –∫–æ–º–ø–∞–Ω–∏–π: `config/companies.json`

```json
{
  "companies": [
    {
      "ticker": "AAPL",
      "name": "Apple Inc.",
      "sector": "Technology",
      "industry": "Consumer Electronics"
    }
  ],
  "last_updated": "2026-02-04T12:00:00"
}
```

**–ú–∏–Ω–∏–º–∞–ª—å–Ω–æ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —É–∫–∞–∑–∞—Ç—å —Ç–æ–ª—å–∫–æ `ticker`!**

### üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

–ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤–æ–π –∫–æ–º–ø–∞–Ω–∏–∏ —Å–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
1. **–ü–æ–ª—É—á–∞–µ—Ç —Ç–µ–∫—É—â—É—é —Ü–µ–Ω—É** —á–µ—Ä–µ–∑ Yahoo Finance API
2. **–ü–æ–ª—É—á–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é** –æ –∫–æ–º–ø–∞–Ω–∏–∏ —á–µ—Ä–µ–∑ LLM
3. **–°–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö** –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
4. **–û–±–Ω–æ–≤–ª—è–µ—Ç `companies.json`** –¥–ª—è —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è

**–í –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ (–ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–º–ø–∞–Ω–∏—è–º–∏):**
- ‚ûï –î–æ–±–∞–≤–ª—è–π—Ç–µ –∫–æ–º–ø–∞–Ω–∏–∏ –ø–æ —Ç–∏–∫–µ—Ä—É - –æ—Å—Ç–∞–ª—å–Ω–æ–µ –∑–∞–ø–æ–ª–Ω–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- üóëÔ∏è –£–¥–∞–ª—è–π—Ç–µ –∫–æ–º–ø–∞–Ω–∏–∏ –æ–¥–Ω–æ–π –∫–Ω–æ–ø–∫–æ–π
- üì• –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ —Å–ø–∏—Å–æ–∫ –∫–æ–º–ø–∞–Ω–∏–π –≤ JSON
- üîç –ü–æ–∏—Å–∫ –ø–æ —Ç–∏–∫–µ—Ä—É –∏–ª–∏ –Ω–∞–∑–≤–∞–Ω–∏—é

## ‚öôÔ∏è –ì–¥–µ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (v3.0)

### üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

–í—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ä–∞–∑–¥–µ–ª–µ–Ω—ã –Ω–∞ 3 —Ñ–∞–π–ª–∞ –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∏ —É–¥–æ–±—Å—Ç–≤–∞:

```
config/
‚îú‚îÄ‚îÄ api_keys.yaml           # üîë API –∫–ª—é—á–∏ (–Ω–µ –≤ Git!)
‚îú‚îÄ‚îÄ llm_config.yaml         # ‚öôÔ∏è –í—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞ (–Ω–µ –≤ Git!)
‚îî‚îÄ‚îÄ companies.json          # üè¢ –°–ø–∏—Å–æ–∫ –∫–æ–º–ø–∞–Ω–∏–π (–Ω–µ –≤ Git!)
```

### üîë 1. API –∫–ª—é—á–∏: `config/api_keys.yaml`

**–ß—Ç–æ –∑–¥–µ—Å—å:**
- OpenRouter API –∫–ª—é—á (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
- Alphavantage API –∫–ª—é—á (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

```yaml
# OpenRouter API –∫–ª—é—á
# –ü–æ–ª—É—á–∏—Ç—å –Ω–∞ https://openrouter.ai/
openrouter_api_key: "sk-or-v1-–≤–∞—à-–∫–ª—é—á-–∑–¥–µ—Å—å"

# Alphavantage API –∫–ª—é—á (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
# –ü–æ–ª—É—á–∏—Ç—å –Ω–∞ https://www.alphavantage.co/support/#api-key
alphavantage_api_key: ""
```

### ‚öôÔ∏è 2. –û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏: `config/llm_config.yaml`

**–ß—Ç–æ –∑–¥–µ—Å—å:** –í–°–ï –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞ –≤ –æ–¥–Ω–æ–º —Ñ–∞–π–ª–µ!

#### üìä –í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
```yaml
input:
  excel_file: "config/companies.json"  # –ü—É—Ç—å –∫ —Å–ø–∏—Å–∫—É –∫–æ–º–ø–∞–Ω–∏–π
```

#### ü§ñ –ú–æ–¥–µ–ª–∏ LLM
```yaml
models:
  - name: "GPT-4 Turbo"
    id: "openai/gpt-4-turbo"
    temperature: 0.3      # –ö—Ä–µ–∞—Ç–∏–≤–Ω–æ—Å—Ç—å (0.0-1.0)
    max_tokens: 1500      # –î–ª–∏–Ω–∞ –æ—Ç–≤–µ—Ç–∞
    
  - name: "Claude 3.5 Sonnet"
    id: "anthropic/claude-3.5-sonnet"
    temperature: 0.3
    max_tokens: 1500
    
  - name: "Gemini Pro 1.5"
    id: "google/gemini-pro-1.5"
    temperature: 0.3
    max_tokens: 1500
```

**–î–æ—Å—Ç—É–ø–Ω—ã–µ –º–æ–¥–µ–ª–∏ –Ω–∞ OpenRouter:**
- `openai/gpt-4-turbo` - –≤—ã—Å–æ–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ
- `openai/gpt-5-mini:nitro` - –±—ã—Å—Ç—Ä–æ –∏ –¥–µ—à–µ–≤–æ
- `anthropic/claude-3.5-sonnet` - –±–∞–ª–∞–Ω—Å —Ü–µ–Ω—ã/–∫–∞—á–µ—Å—Ç–≤–∞
- `google/gemini-pro-1.5` - —ç–∫–æ–Ω–æ–º–∏—á–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç
- `xiaomi/mimo-v2-flash` - –æ—á–µ–Ω—å –±—ã—Å—Ç—Ä–æ

#### üìù –ü—Ä–æ–º–ø—Ç—ã –¥–ª—è LLM
```yaml
system_prompt: |
  –¢—ã - –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–π –∞–Ω–∞–ª–∏—Ç–∏–∫...
  
prompt_template: |
  –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π –¥–≤–∏–∂–µ–Ω–∏–µ –∞–∫—Ü–∏–∏ {ticker}...
```

#### üóÑÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
```yaml
database:
  path: "data/stocks.db"   # –ü—É—Ç—å –∫ SQLite –ë–î
  keep_history: true       # –°–æ—Ö—Ä–∞–Ω—è—Ç—å –∏—Å—Ç–æ—Ä–∏—é –∞–Ω–∞–ª–∏–∑–æ–≤
```

#### üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ—Ç–∏—Ä–æ–≤–æ–∫
```yaml
price_updates:
  strategy: "daily"  # always | daily | cache_only
  min_update_interval_minutes: 15
```

**–°—Ç—Ä–∞—Ç–µ–≥–∏–∏:**
- `always` ‚Äî –≤—Å–µ–≥–¥–∞ –∑–∞–≥—Ä—É–∂–∞—Ç—å —Å–≤–µ–∂–∏–µ –∫–æ—Ç–∏—Ä–æ–≤–∫–∏ (–º–µ–¥–ª–µ–Ω–Ω–æ, –∞–∫—Ç—É–∞–ª—å–Ω–æ)
- `daily` ‚Äî –æ–±–Ω–æ–≤–ª—è—Ç—å —Ä–∞–∑ –≤ –¥–µ–Ω—å (**—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è**)
- `cache_only` ‚Äî —Ç–æ–ª—å–∫–æ –∏–∑ –ë–î (–±—ã—Å—Ç—Ä–æ, –º–æ–∂–µ—Ç —É—Å—Ç–∞—Ä–µ—Ç—å)

#### üì§ –≠–∫—Å–ø–æ—Ä—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
```yaml
export:
  output_path: "output/exports/{date}_analysis.xlsx"
  color_coding: true  # –¶–≤–µ—Ç–æ–≤–∞—è –∫–æ–¥–∏—Ä–æ–≤–∫–∞ —Ç—Ä–µ–Ω–¥–æ–≤
```

#### üè¢ –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–æ–º–ø–∞–Ω–∏—è—Ö
```yaml
company_info:
  fallback_to_llm: true            # –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å LLM –µ—Å–ª–∏ API –Ω–µ –¥–∞–ª —Ä–µ–∑—É–ª—å—Ç–∞—Ç
  cache_duration_days: 30          # –ö—ç—à –æ–ø–∏—Å–∞–Ω–∏–π –Ω–∞ 30 –¥–Ω–µ–π
  llm_model: "openai/gpt-3.5-turbo"  # –ú–æ–¥–µ–ª—å –¥–ª—è –æ–ø–∏—Å–∞–Ω–∏–π
```

#### ‚è∞ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑)

```yaml
scheduler:
  enabled: false               # –í–∫–ª—é—á–∏—Ç—å/–≤—ã–∫–ª—é—á–∏—Ç—å –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫
  timezone: "Europe/Moscow"    # –í—Ä–µ–º–µ–Ω–Ω–∞—è –∑–æ–Ω–∞ –¥–ª—è —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è
  schedule:                    # –°–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á (–º–æ–∂–Ω–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ)
    - cron: "0 19 * * 1-5"     # Cron-–≤—ã—Ä–∞–∂–µ–Ω–∏–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è
      description: "–ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –ø–æ—Å–ª–µ –∑–∞–∫—Ä—ã—Ç–∏—è –±–∏—Ä–∂–∏"
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞:**

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-----|----------|
| `enabled` | boolean | `true` ‚Äî –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∞–∫—Ç–∏–≤–µ–Ω, `false` ‚Äî –æ—Ç–∫–ª—é—á—ë–Ω |
| `timezone` | string | –í—Ä–µ–º–µ–Ω–Ω–∞—è –∑–æ–Ω–∞ ([—Å–ø–∏—Å–æ–∫](https://en.wikipedia.org/wiki/List_of_tz_database_time_zones)) |
| `schedule` | array | –ú–∞—Å—Å–∏–≤ –∑–∞–¥–∞—á —Å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ–º |
| `schedule[].cron` | string | Cron-–≤—ã—Ä–∞–∂–µ–Ω–∏–µ (–º–∏–Ω—É—Ç–∞ —á–∞—Å –¥–µ–Ω—å –º–µ—Å—è—Ü –¥–µ–Ω—å_–Ω–µ–¥–µ–ª–∏) |
| `schedule[].description` | string | –û–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏ (–¥–ª—è –ª–æ–≥–æ–≤) |

**–§–æ—Ä–º–∞—Ç cron-–≤—ã—Ä–∞–∂–µ–Ω–∏—è:**
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ –º–∏–Ω—É—Ç–∞ (0-59)
‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ —á–∞—Å (0-23)
‚îÇ ‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ –¥–µ–Ω—å –º–µ—Å—è—Ü–∞ (1-31)
‚îÇ ‚îÇ ‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ –º–µ—Å—è—Ü (1-12)
‚îÇ ‚îÇ ‚îÇ ‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ –¥–µ–Ω—å –Ω–µ–¥–µ–ª–∏ (0-6, 0=–≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ, 1-5=–ü–Ω-–ü—Ç)
‚îÇ ‚îÇ ‚îÇ ‚îÇ ‚îÇ
* * * * *
```

**–ü—Ä–∏–º–µ—Ä—ã cron:**
| –í—ã—Ä–∞–∂–µ–Ω–∏–µ | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----------|----------|
| `0 19 * * 1-5` | –ö–∞–∂–¥—ã–π –±—É–¥–Ω–∏–π –¥–µ–Ω—å (–ü–Ω-–ü—Ç) –≤ 19:00 |
| `30 9 * * *` | –ö–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ 9:30 |
| `0 */4 * * *` | –ö–∞–∂–¥—ã–µ 4 —á–∞—Å–∞ (–≤ 0:00, 4:00, 8:00...) |
| `0 10,14,18 * * 1-5` | –í 10:00, 14:00 –∏ 18:00 –ø–æ –±—É–¥–Ω—è–º |
| `0 9 * * 1` | –ö–∞–∂–¥—ã–π –ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫ –≤ 9:00 |
| `0 0 1 * *` | –ü–µ—Ä–≤–æ–≥–æ —á–∏—Å–ª–∞ –∫–∞–∂–¥–æ–≥–æ –º–µ—Å—è—Ü–∞ –≤ –ø–æ–ª–Ω–æ—á—å |

**–ù–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–π:**
```yaml
scheduler:
  enabled: true
  timezone: "Europe/Moscow"
  schedule:
    - cron: "0 10 * * 1-5"
      description: "–£—Ç—Ä–µ–Ω–Ω–∏–π –∞–Ω–∞–ª–∏–∑ –ø–µ—Ä–µ–¥ –æ—Ç–∫—Ä—ã—Ç–∏–µ–º NYSE"
    - cron: "0 19 * * 1-5"
      description: "–í–µ—á–µ—Ä–Ω–∏–π –∞–Ω–∞–ª–∏–∑ –ø–æ—Å–ª–µ –∑–∞–∫—Ä—ã—Ç–∏—è –±–∏—Ä–∂–∏"
    - cron: "0 12 * * 6"
      description: "–ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–π –æ–±–∑–æ—Ä –≤ —Å—É–±–±–æ—Ç—É"
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–∏:**
1. –ó–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –¥–∞–Ω–Ω—ã–µ –∏–∑ `config/companies.json`
2. –û–±–Ω–æ–≤–ª—è—é—Ç—Å—è –∫–æ—Ç–∏—Ä–æ–≤–∫–∏ —á–µ—Ä–µ–∑ Yahoo Finance
3. –ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∞–Ω–∞–ª–∏–∑ —á–µ—Ä–µ–∑ –≤—Å–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ LLM-–º–æ–¥–µ–ª–∏
4. –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
5. –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è Excel-–æ—Ç—á—ë—Ç –≤ `output/exports/`
6. –í—Å–µ –¥–µ–π—Å—Ç–≤–∏—è –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –≤ `logs/scheduler.log`

#### üåê –í–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
```yaml
web_app:
  host: "0.0.0.0"     # –î–æ—Å—Ç—É–ø —Å –ª—é–±–æ–≥–æ IP
  port: 8501          # –ü–æ—Ä—Ç Streamlit
  theme: "dark"       # –¢–µ–º–Ω–∞—è —Ç–µ–º–∞
  mobile_friendly: true
```

#### üìã –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
```yaml
logging:
  level: "INFO"  # DEBUG | INFO | WARNING | ERROR
  format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"
```

---

### üìñ –ü–æ–ª–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –≤—Å–µ—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

–ù–∏–∂–µ –ø—Ä–∏–≤–µ–¥–µ–Ω–∞ –ø–æ–ª–Ω–∞—è —Å–ø—Ä–∞–≤–∫–∞ –ø–æ –≤—Å–µ–º –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º —Ñ–∞–π–ª–∞ `config/llm_config.yaml`:

<details>
<summary><b>üîΩ –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –ø–æ–ª–Ω—É—é —Å–ø—Ä–∞–≤–∫—É –ø–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º</b></summary>

#### üìÇ –°–µ–∫—Ü–∏—è `input` ‚Äî –í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-----|--------------|----------|
| `excel_file` | string | `"config/companies.json"` | –ü—É—Ç—å –∫ —Ñ–∞–π–ª—É —Å–æ —Å–ø–∏—Å–∫–æ–º –∫–æ–º–ø–∞–Ω–∏–π. –í v3.0 –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è JSON –≤–º–µ—Å—Ç–æ Excel |

---

#### üåê –°–µ–∫—Ü–∏—è `openrouter` ‚Äî –ù–∞—Å—Ç—Ä–æ–π–∫–∏ OpenRouter API

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-----|--------------|----------|
| `base_url` | string | `"https://openrouter.ai/api/v1"` | –ë–∞–∑–æ–≤—ã–π URL API OpenRouter. –ò–∑–º–µ–Ω—è—Ç—å –Ω–µ –Ω—É–∂–Ω–æ |

---

#### ü§ñ –°–µ–∫—Ü–∏—è `models` ‚Äî –ú–æ–¥–µ–ª–∏ LLM –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞

–ú–∞—Å—Å–∏–≤ –º–æ–¥–µ–ª–µ–π, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞. –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 2-3 –º–æ–¥–µ–ª–∏ –¥–ª—è –∫–æ–Ω—Å–µ–Ω—Å—É—Å–∞.

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-----|--------------|----------|
| `name` | string | –î–∞ | –û—Ç–æ–±—Ä–∞–∂–∞–µ–º–æ–µ –∏–º—è –º–æ–¥–µ–ª–∏ (–¥–ª—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –∏ –ª–æ–≥–æ–≤) |
| `id` | string | –î–∞ | –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –º–æ–¥–µ–ª–∏ –≤ OpenRouter (—Å–º. [–º–æ–¥–µ–ª–∏](https://openrouter.ai/models)) |
| `temperature` | float | –ù–µ—Ç | –ö—Ä–µ–∞—Ç–∏–≤–Ω–æ—Å—Ç—å –æ—Ç–≤–µ—Ç–æ–≤: 0.0 (–¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ) ‚Äî 1.0 (–∫—Ä–µ–∞—Ç–∏–≤–Ω–æ). –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 0.2-0.4 |
| `max_tokens` | int | –ù–µ—Ç | –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞ –æ—Ç–≤–µ—Ç–∞ –≤ —Ç–æ–∫–µ–Ω–∞—Ö. 1500-3000 –¥–ª—è –ø–æ–ª–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤ |

**–ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –º–æ–¥–µ–ª–∏:**
| ID –º–æ–¥–µ–ª–∏ | –û–ø–∏—Å–∞–Ω–∏–µ | –¶–µ–Ω–∞ |
|-----------|----------|------|
| `openai/gpt-4-turbo` | –í—ã—Å–æ–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ –∞–Ω–∞–ª–∏–∑–∞ | $$$ |
| `openai/gpt-4o-mini` | –ë–∞–ª–∞–Ω—Å —Ü–µ–Ω–∞/–∫–∞—á–µ—Å—Ç–≤–æ | $$ |
| `openai/gpt-5-mini:nitro` | –ë—ã—Å—Ç—Ä—ã–π –∏ –¥–µ—à–µ–≤—ã–π | $ |
| `anthropic/claude-3.5-sonnet` | –û—Ç–ª–∏—á–Ω–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ | $$$ |
| `google/gemini-pro-1.5` | –≠–∫–æ–Ω–æ–º–∏—á–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç | $ |
| `xiaomi/mimo-v2-flash` | –û—á–µ–Ω—å –±—ã—Å—Ç—Ä—ã–π | $ |

---

#### üìù –°–µ–∫—Ü–∏—è `system_prompt` ‚Äî –°–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç

–ú–Ω–æ–≥–æ—Å—Ç—Ä–æ—á–Ω–∞—è —Å—Ç—Ä–æ–∫–∞ —Å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏ –¥–ª—è LLM. –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç "—Ä–æ–ª—å" –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –º–æ–¥–µ–ª–∏.

```yaml
system_prompt: |
  –¢—ã - —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–π –∞–Ω–∞–ª–∏—Ç–∏–∫. –û—Ç–≤–µ—á–∞–π –¢–û–õ–¨–ö–û –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ.
  –ê–Ω–∞–ª–∏–∑–∏—Ä—É–π –¢–û–õ–¨–ö–û –¥–∞–Ω–Ω—ã–µ –∏–∑ –∑–∞–ø—Ä–æ—Å–∞. –ù–ï –ø—Ä–∏–¥—É–º—ã–≤–∞–π –Ω–æ–≤–æ—Å—Ç–∏ –∏ —Å–æ–±—ã—Ç–∏—è.
  –ë—É–¥—å –∫—Ä–∞—Ç–∫–∏–º –∏ –ø–æ –¥–µ–ª—É.
```

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:**
- –£–∫–∞–∂–∏—Ç–µ —è–∑—ã–∫ –æ—Ç–≤–µ—Ç–∞
- –û–≥—Ä–∞–Ω–∏—á—å—Ç–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö (–∑–∞—â–∏—Ç–∞ –æ—Ç –≥–∞–ª–ª—é—Ü–∏–Ω–∞—Ü–∏–π)
- –ó–∞–¥–∞–π—Ç–µ —Å—Ç–∏–ª—å –æ—Ç–≤–µ—Ç–∞

---

#### üìã –°–µ–∫—Ü–∏—è `prompt_template` ‚Äî –®–∞–±–ª–æ–Ω –∑–∞–ø—Ä–æ—Å–∞

–®–∞–±–ª–æ–Ω –ø—Ä–æ–º–ø—Ç–∞ —Å –ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä–∞–º–∏ –¥–ª—è –¥–∞–Ω–Ω—ã—Ö –∞–∫—Ü–∏–∏.

| –ü–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------------|----------|
| `{ticker}` | –¢–∏–∫–µ—Ä –∞–∫—Ü–∏–∏ (AAPL, MSFT –∏ —Ç.–¥.) |
| `{price}` | –¢–µ–∫—É—â–∞—è —Ü–µ–Ω–∞ |
| `{change}` | –ò–∑–º–µ–Ω–µ–Ω–∏–µ –≤ –ø—Ä–æ—Ü–µ–Ω—Ç–∞—Ö |
| `{volume}` | –û–±—ä–µ–º —Ç–æ—Ä–≥–æ–≤ |
| `{additional_info}` | –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–æ–º–ø–∞–Ω–∏–∏ |

---

#### üóÑÔ∏è –°–µ–∫—Ü–∏—è `database` ‚Äî –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-----|--------------|----------|
| `path` | string | `"data/stocks.db"` | –ü—É—Ç—å –∫ —Ñ–∞–π–ª—É SQLite –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö |
| `keep_history` | boolean | `true` | –°–æ—Ö—Ä–∞–Ω—è—Ç—å –∏—Å—Ç–æ—Ä–∏—é –∞–Ω–∞–ª–∏–∑–æ–≤ (`true`) –∏–ª–∏ –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞—Ç—å (`false`) |

---

#### üîÑ –°–µ–∫—Ü–∏—è `price_updates` ‚Äî –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ—Ç–∏—Ä–æ–≤–æ–∫

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-----|--------------|----------|
| `strategy` | string | `"daily"` | –°—Ç—Ä–∞—Ç–µ–≥–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫–æ—Ç–∏—Ä–æ–≤–æ–∫ |
| `min_update_interval_minutes` | int | `15` | –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä–≤–∞–ª –º–µ–∂–¥—É –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è–º–∏ (–¥–ª—è strategy: "always") |

**–°—Ç—Ä–∞—Ç–µ–≥–∏–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:**
| –ó–Ω–∞—á–µ–Ω–∏–µ | –û–ø–∏—Å–∞–Ω–∏–µ | –°–∫–æ—Ä–æ—Å—Ç—å | –ê–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç—å |
|----------|----------|----------|--------------|
| `"always"` | –í—Å–µ–≥–¥–∞ –∑–∞–≥—Ä—É–∂–∞—Ç—å —Å–≤–µ–∂–∏–µ –∫–æ—Ç–∏—Ä–æ–≤–∫–∏ —á–µ—Ä–µ–∑ API | –ú–µ–¥–ª–µ–Ω–Ω–æ | –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è |
| `"daily"` | –û–±–Ω–æ–≤–ª—è—Ç—å —Ä–∞–∑ –≤ –¥–µ–Ω—å (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è) | –ë—ã—Å—Ç—Ä–æ | –•–æ—Ä–æ—à–∞—è |
| `"cache_only"` | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –∫—ç—à –∏–∑ –ë–î | –û—á–µ–Ω—å –±—ã—Å—Ç—Ä–æ | –ú–æ–∂–µ—Ç —É—Å—Ç–∞—Ä–µ—Ç—å |

---

#### üì§ –°–µ–∫—Ü–∏—è `export` ‚Äî –≠–∫—Å–ø–æ—Ä—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-----|--------------|----------|
| `output_path` | string | `"output/exports/{date}_analysis.xlsx"` | –ü—É—Ç—å –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è Excel-–æ—Ç—á—ë—Ç–∞. `{date}` –∑–∞–º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ —Ç–µ–∫—É—â—É—é –¥–∞—Ç—É |
| `color_coding` | boolean | `true` | –¶–≤–µ—Ç–æ–≤–∞—è –∫–æ–¥–∏—Ä–æ–≤–∫–∞ —Ç—Ä–µ–Ω–¥–æ–≤ –≤ Excel (–∑–µ–ª—ë–Ω—ã–π/–∫—Ä–∞—Å–Ω—ã–π) |

---

#### üè¢ –°–µ–∫—Ü–∏—è `company_info` ‚Äî –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–æ–º–ø–∞–Ω–∏—è—Ö

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-----|--------------|----------|
| `fallback_to_llm` | boolean | `true` | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å LLM –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –æ–ø–∏—Å–∞–Ω–∏—è, –µ—Å–ª–∏ API –Ω–µ –≤–µ—Ä–Ω—É–ª –¥–∞–Ω–Ω—ã–µ |
| `cache_duration_days` | int | `30` | –°—Ä–æ–∫ —Ö—Ä–∞–Ω–µ–Ω–∏—è –∫—ç—à–∞ –æ–ø–∏—Å–∞–Ω–∏–π –∫–æ–º–ø–∞–Ω–∏–π (–¥–Ω–µ–π) |
| `llm_model` | string | `"openai/gpt-3.5-turbo"` | –ú–æ–¥–µ–ª—å –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ–ø–∏—Å–∞–Ω–∏–π –∫–æ–º–ø–∞–Ω–∏–π |

---

#### ‚è∞ –°–µ–∫—Ü–∏—è `scheduler` ‚Äî –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-----|--------------|----------|
| `enabled` | boolean | `false` | –í–∫–ª—é—á–∏—Ç—å (`true`) –∏–ª–∏ –≤—ã–∫–ª—é—á–∏—Ç—å (`false`) –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ |
| `timezone` | string | `"Europe/Moscow"` | –í—Ä–µ–º–µ–Ω–Ω–∞—è –∑–æ–Ω–∞ –¥–ª—è —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è ([—Å–ø–∏—Å–æ–∫ –∑–æ–Ω](https://en.wikipedia.org/wiki/List_of_tz_database_time_zones)) |
| `schedule` | array | ‚Äî | –ú–∞—Å—Å–∏–≤ –∑–∞–¥–∞—á —Å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ–º |
| `schedule[].cron` | string | ‚Äî | Cron-–≤—ã—Ä–∞–∂–µ–Ω–∏–µ: `–º–∏–Ω—É—Ç–∞ —á–∞—Å –¥–µ–Ω—å –º–µ—Å—è—Ü –¥–µ–Ω—å_–Ω–µ–¥–µ–ª–∏` |
| `schedule[].description` | string | ‚Äî | –û–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏ (–¥–ª—è –ª–æ–≥–æ–≤) |

**–§–æ—Ä–º–∞—Ç cron:**
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ –º–∏–Ω—É—Ç–∞ (0-59)
‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ —á–∞—Å (0-23)
‚îÇ ‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ –¥–µ–Ω—å –º–µ—Å—è—Ü–∞ (1-31)
‚îÇ ‚îÇ ‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ –º–µ—Å—è—Ü (1-12)
‚îÇ ‚îÇ ‚îÇ ‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ –¥–µ–Ω—å –Ω–µ–¥–µ–ª–∏ (0-6, –≥–¥–µ 0=–í—Å, 1=–ü–Ω ... 6=–°–±)
‚îÇ ‚îÇ ‚îÇ ‚îÇ ‚îÇ      —Ç–∞–∫–∂–µ –º–æ–∂–Ω–æ: 1-5 = –ü–Ω-–ü—Ç
* * * * *
```

**–ü—Ä–∏–º–µ—Ä—ã cron-–≤—ã—Ä–∞–∂–µ–Ω–∏–π:**
| –í—ã—Ä–∞–∂–µ–Ω–∏–µ | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----------|----------|
| `0 19 * * 1-5` | –ö–∞–∂–¥—ã–π –±—É–¥–Ω–∏–π –¥–µ–Ω—å (–ü–Ω-–ü—Ç) –≤ 19:00 |
| `30 9 * * *` | –ö–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ 9:30 |
| `0 */4 * * *` | –ö–∞–∂–¥—ã–µ 4 —á–∞—Å–∞ |
| `0 10,14,18 * * 1-5` | –í 10:00, 14:00 –∏ 18:00 –ø–æ –±—É–¥–Ω—è–º |
| `0 0 1 * *` | –ü–µ—Ä–≤–æ–≥–æ —á–∏—Å–ª–∞ –∫–∞–∂–¥–æ–≥–æ –º–µ—Å—è—Ü–∞ –≤ –ø–æ–ª–Ω–æ—á—å |

---

#### üåê –°–µ–∫—Ü–∏—è `web_app` ‚Äî –í–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ Streamlit

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-----|--------------|----------|
| `host` | string | `"0.0.0.0"` | IP –¥–ª—è –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏—è. `0.0.0.0` = –≤—Å–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã, `127.0.0.1` = —Ç–æ–ª—å–∫–æ localhost |
| `port` | int | `8501` | –ü–æ—Ä—Ç –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è |
| `theme` | string | `"dark"` | –¢–µ–º–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞: `"dark"` –∏–ª–∏ `"light"` |
| `mobile_friendly` | boolean | `true` | –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ |

---

#### üìã –°–µ–∫—Ü–∏—è `logging` ‚Äî –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-----|--------------|----------|
| `level` | string | `"INFO"` | –£—Ä–æ–≤–µ–Ω—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è: `DEBUG`, `INFO`, `WARNING`, `ERROR`, `CRITICAL` |
| `format` | string | —Å–º. –Ω–∏–∂–µ | –§–æ—Ä–º–∞—Ç —Å–æ–æ–±—â–µ–Ω–∏–π –ª–æ–≥–∞ |

**–£—Ä–æ–≤–Ω–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è:**
| –£—Ä–æ–≤–µ–Ω—å | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `DEBUG` | –î–µ—Ç–∞–ª—å–Ω–∞—è –æ—Ç–ª–∞–¥–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è |
| `INFO` | –û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ä–∞–±–æ—Ç–µ |
| `WARNING` | –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è (–Ω–µ –∫—Ä–∏—Ç–∏—á–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã) |
| `ERROR` | –û—à–∏–±–∫–∏ (–æ–ø–µ—Ä–∞—Ü–∏—è –Ω–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞) |
| `CRITICAL` | –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏ (–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –º–æ–∂–µ—Ç —É–ø–∞—Å—Ç—å) |

</details>

### üè¢ 3. –°–ø–∏—Å–æ–∫ –∫–æ–º–ø–∞–Ω–∏–π: `config/companies.json`

**–ß—Ç–æ –∑–¥–µ—Å—å:** –ö–æ–º–ø–∞–Ω–∏–∏ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞

```json
{
  "companies": [
    {
      "ticker": "AAPL",
      "name": "Apple Inc.",
      "sector": "Technology",
      "industry": "Consumer Electronics"
    },
    {
      "ticker": "MSFT",
      "name": "Microsoft Corporation",
      "sector": "Technology",
      "industry": "Software"
    }
  ],
  "last_updated": "2026-02-04T12:00:00"
}
```

**–ú–∏–Ω–∏–º–∞–ª—å–Ω–æ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ:**
```json
{
  "companies": [
    {"ticker": "AAPL"},
    {"ticker": "MSFT"}
  ]
}
```

–û—Å—Ç–∞–ª—å–Ω—ã–µ –ø–æ–ª—è –∑–∞–ø–æ–ª–Ω—è—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏!

### üìù –ö–∞–∫ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

#### –°–ø–æ—Å–æ–± 1: –ß–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
streamlit run app.py
```

–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏** ‚Üí **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–º–ø–∞–Ω–∏—è–º–∏**

#### –°–ø–æ—Å–æ–± 2: –í—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ —Ñ–∞–π–ª—ã

1. –û—Ç–∫—Ä–æ–π—Ç–µ –Ω—É–∂–Ω—ã–π —Ñ–∞–π–ª –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ:
   - `config/api_keys.yaml` ‚Äî –¥–ª—è API –∫–ª—é—á–µ–π
   - `config/llm_config.yaml` ‚Äî –¥–ª—è –≤—Å–µ—Ö –æ—Å—Ç–∞–ª—å–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫
   - `config/companies.json` ‚Äî –¥–ª—è —Å–ø–∏—Å–∫–∞ –∫–æ–º–ø–∞–Ω–∏–π

2. –í–Ω–µ—Å–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

3. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Ñ–∞–π–ª

4. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

### ‚ö†Ô∏è –í–∞–∂–Ω–æ!

- ‚ùå **–ù–ï –ö–û–ú–ú–ò–¢–¨–¢–ï** —Ñ–∞–π–ª—ã `config/*.yaml` –∏ `config/*.json` –≤ Git
- ‚úÖ –û–Ω–∏ —É–∂–µ –≤ `.gitignore`
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `*.example.*` —Ñ–∞–π–ª—ã –∫–∞–∫ —à–∞–±–ª–æ–Ω—ã
- ‚úÖ API –∫–ª—é—á–∏ —Ö—Ä–∞–Ω–∏—Ç–µ –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫

```bash
# –¢–µ—Å—Ç –∑–∞–≥—Ä—É–∑–∫–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
python test_config_loading.py
```

–î–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å:
```
‚úÖ –í–°–ï –ü–†–û–í–ï–†–ö–ò –ü–†–û–ô–î–ï–ù–´!
```

## üí∞ –ü—Ä–∏–º–µ—Ä–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å

–î–ª—è 100 –∞–∫—Ü–∏–π √ó 3 –º–æ–¥–µ–ª–∏: **~$1-2** –∑–∞ –ø–æ–ª–Ω—ã–π –∞–Ω–∞–ª–∏–∑

**–†–∞—Å—á–µ—Ç:**
- 1 –∞–∫—Ü–∏—è √ó 3 –º–æ–¥–µ–ª–∏ = 3 –∑–∞–ø—Ä–æ—Å–∞
- ~1500 —Ç–æ–∫–µ–Ω–æ–≤ –Ω–∞ –∑–∞–ø—Ä–æ—Å (prompt + response)
- –°—Ä–µ–¥–Ω—è—è —Ü–µ–Ω–∞: $0.005-$0.01 –∑–∞ 1000 —Ç–æ–∫–µ–Ω–æ–≤
- 100 –∞–∫—Ü–∏–π = 300 –∑–∞–ø—Ä–æ—Å–æ–≤ ‚âà $1.5-$3

**–≠–∫–æ–Ω–æ–º–∏—è:**
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `daily` —Å—Ç—Ä–∞—Ç–µ–≥–∏—é ‚Äî –∞–Ω–∞–ª–∏–∑ —Ä–∞–∑ –≤ –¥–µ–Ω—å
- –í—ã–±–∏—Ä–∞–π—Ç–µ –¥–µ—à–µ–≤—ã–µ –º–æ–¥–µ–ª–∏: `gpt-3.5-turbo`, `gemini-flash`
- –û–≥—Ä–∞–Ω–∏—á—å—Ç–µ `max_tokens` –¥–æ 1000 –¥–ª—è –∫—Ä–∞—Ç–∫–∏—Ö –æ—Ç–≤–µ—Ç–æ–≤

## üìñ –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–∏–º–µ—Ä 1: –ê–Ω–∞–ª–∏–∑ –ø–æ—Ä—Ç—Ñ–µ–ª—è –∏–∑ 10 –∞–∫—Ü–∏–π

**–ö–æ–º–ø–∞–Ω–∏–∏:**
```json
{
  "companies": [
    {"ticker": "AAPL"}, {"ticker": "MSFT"}, {"ticker": "GOOGL"},
    {"ticker": "NVDA"}, {"ticker": "AMD"}, {"ticker": "TSLA"},
    {"ticker": "META"}, {"ticker": "AMZN"}, {"ticker": "NFLX"},
    {"ticker": "DIS"}
  ]
}
```

**–ó–∞–ø—É—Å–∫:**
```bash
python main.py
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –¢–µ–∫—É—â–∏–µ –∫–æ—Ç–∏—Ä–æ–≤–∫–∏ –∏–∑ Yahoo Finance
- –ê–Ω–∞–ª–∏–∑ –æ—Ç 3 –º–æ–¥–µ–ª–µ–π LLM
- –ö–æ–Ω—Å–µ–Ω—Å—É—Å–Ω—ã–π –ø—Ä–æ–≥–Ω–æ–∑
- –≠–∫—Å–ø–æ—Ä—Ç –≤ Excel `output/exports/2026-02-04_analysis.xlsx`

### –ü—Ä–∏–º–µ—Ä 2: –í–µ–±-–º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

```bash
streamlit run app.py
```

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
1. **–û–±–∑–æ—Ä** ‚Äî –º–µ—Ç—Ä–∏–∫–∏ –ø–æ—Ä—Ç—Ñ–µ–ª—è
2. **–ê–Ω–∞–ª–∏–∑** ‚Äî –¥–µ—Ç–∞–ª–∏ –ø–æ –∫–∞–∂–¥–æ–π –∞–∫—Ü–∏–∏
3. **–ò—Å—Ç–æ—Ä–∏—è** ‚Äî –≥—Ä–∞—Ñ–∏–∫–∏ —Ç—Ä–µ–Ω–¥–æ–≤
4. **–¢–æ—á–Ω–æ—Å—Ç—å** ‚Äî —Å–æ–≥–ª–∞—Å–∏–µ –º–æ–¥–µ–ª–µ–π
5. **–ù–∞—Å—Ç—Ä–æ–π–∫–∏** ‚Äî –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ –∫–æ–º–ø–∞–Ω–∏–π

### –ü—Ä–∏–º–µ—Ä 3: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–π –∞–Ω–∞–ª–∏–∑

**1. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –≤ `config/llm_config.yaml`:**
```yaml
scheduler:
  enabled: true
  timezone: "Europe/Moscow"
  schedule:
    - cron: "0 19 * * 1-5"  # –ë—É–¥–Ω–∏ –≤ 19:00
```

**2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫:**
```bash
bin\start_scheduler.bat
```

**3. –†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ –∫–∞–∂–¥—ã–π –±—É–¥–Ω–∏–π –¥–µ–Ω—å –≤ 19:00
- –≠–∫—Å–ø–æ—Ä—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ Excel
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ë–î –¥–ª—è –∏—Å—Ç–æ—Ä–∏–∏

### –ü—Ä–∏–º–µ—Ä 4: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–π –∫–æ–º–ø–∞–Ω–∏–∏ —á–µ—Ä–µ–∑ API

**–ß–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ `http://localhost:8501`
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ "‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏"
3. –í–≤–µ–¥–∏—Ç–µ —Ç–∏–∫–µ—Ä (–Ω–∞–ø—Ä–∏–º–µ—Ä, `TSLA`)
4. –ù–∞–∂–º–∏—Ç–µ "–î–æ–±–∞–≤–∏—Ç—å"

**–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:**
- ‚úÖ –ü–æ–ª—É—á–∏—Ç —Ç–µ–∫—É—â—É—é —Ü–µ–Ω—É —á–µ—Ä–µ–∑ Yahoo Finance
- ‚úÖ –ó–∞–ø—Ä–æ—Å–∏—Ç –æ–ø–∏—Å–∞–Ω–∏–µ –∫–æ–º–ø–∞–Ω–∏–∏ —á–µ—Ä–µ–∑ LLM
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–∏—Ç –≤ `config/companies.json`
- ‚úÖ –î–æ–±–∞–≤–∏—Ç –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö

### –ü—Ä–∏–º–µ—Ä 5: –≠–∫—Å–ø–æ—Ä—Ç –∏ –∞–Ω–∞–ª–∏–∑ –∏—Å—Ç–æ—Ä–∏–∏

**1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ –¥–ª—è –Ω–∞–∫–æ–ø–ª–µ–Ω–∏—è –∏—Å—Ç–æ—Ä–∏–∏:**
```bash
# –î–µ–Ω—å 1
python main.py

# –î–µ–Ω—å 2
python main.py

# –î–µ–Ω—å 3
python main.py
```

**2. –ü—Ä–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –∏—Å—Ç–æ—Ä–∏—é –≤ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ:**
```bash
streamlit run app.py
```

–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª **"üìà –ò—Å—Ç–æ—Ä–∏—è"** ‚Äî —É–≤–∏–¥–∏—Ç–µ –≥—Ä–∞—Ñ–∏–∫–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–æ–≥–Ω–æ–∑–æ–≤ –≤–æ –≤—Ä–µ–º–µ–Ω–∏

## üåê –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

–°—Ç—Ä–∞–Ω–∏—Ü—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:
1. **–û–±–∑–æ—Ä** - –º–µ—Ç—Ä–∏–∫–∏ –∏ –ø–æ—Å–ª–µ–¥–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
2. **–ê–Ω–∞–ª–∏–∑** - –¥–µ—Ç–∞–ª—å–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä –ø–æ –∞–∫—Ü–∏—è–º
3. **–ò—Å—Ç–æ—Ä–∏—è** - —Ç—Ä–µ–Ω–¥—ã –≤–æ –≤—Ä–µ–º–µ–Ω–∏
4. **–¢–æ—á–Ω–æ—Å—Ç—å** - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –º–æ–¥–µ–ª–µ–π
5. **–ù–∞—Å—Ç—Ä–æ–π–∫–∏** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏ —ç–∫—Å–ø–æ—Ä—Ç

## ‚è∞ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ (–ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫)

–ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞—Ç—å –∞–Ω–∞–ª–∏–∑ –∫–æ—Ç–∏—Ä–æ–≤–æ–∫ –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é –±–µ–∑ —Ä—É—á–Ω–æ–≥–æ –≤–º–µ—à–∞—Ç–µ–ª—å—Å—Ç–≤–∞.

### –ë—ã—Å—Ç—Ä–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

**1. –í–∫–ª—é—á–∏—Ç–µ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –≤ `config/llm_config.yaml`:**

```yaml
scheduler:
  enabled: true                # ‚Üê –ò–∑–º–µ–Ω–∏—Ç–µ –Ω–∞ true
  timezone: "Europe/Moscow"
  schedule:
    - cron: "0 19 * * 1-5"     # –ë—É–¥–Ω–∏ –≤ 19:00 –ú–°–ö
      description: "–ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –ø–æ—Å–ª–µ –∑–∞–∫—Ä—ã—Ç–∏—è –±–∏—Ä–∂–∏"
```

**2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫:**

```bash
# Windows
bin\start_scheduler.bat

# Linux/Mac
python scheduler.py
```

**3. –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –≤ —Ñ–æ–Ω–µ**, –ª–æ–≥–∏ –ø–∏—à—É—Ç—Å—è –≤ `logs/scheduler.log`

### –ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ó–Ω–∞—á–µ–Ω–∏–µ | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|----------|----------|
| `enabled` | `true` / `false` | –í–∫–ª—é—á–∏—Ç—å/–≤—ã–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ |
| `timezone` | `Europe/Moscow` | –í—Ä–µ–º–µ–Ω–Ω–∞—è –∑–æ–Ω–∞ –¥–ª—è —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è |
| `schedule` | –º–∞—Å—Å–∏–≤ | –°–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á —Å cron-–≤—ã—Ä–∞–∂–µ–Ω–∏—è–º–∏ |

### –§–æ—Ä–º–∞—Ç cron-–≤—ã—Ä–∞–∂–µ–Ω–∏—è

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ –º–∏–Ω—É—Ç–∞ (0-59)
‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ —á–∞—Å (0-23)  
‚îÇ ‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ –¥–µ–Ω—å –º–µ—Å—è—Ü–∞ (1-31)
‚îÇ ‚îÇ ‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ –º–µ—Å—è—Ü (1-12)
‚îÇ ‚îÇ ‚îÇ ‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ –¥–µ–Ω—å –Ω–µ–¥–µ–ª–∏ (0-6, –≥–¥–µ 0=–í—Å, 1=–ü–Ω, ..., 6=–°–±)
‚îÇ ‚îÇ ‚îÇ ‚îÇ ‚îÇ
* * * * *
```

### –ü—Ä–∏–º–µ—Ä—ã —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–π

| Cron | –ö–æ–≥–¥–∞ –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è |
|------|------------------|
| `0 19 * * 1-5` | –ö–∞–∂–¥—ã–π –±—É–¥–Ω–∏–π –¥–µ–Ω—å (–ü–Ω-–ü—Ç) –≤ 19:00 |
| `30 9 * * *` | –ö–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ 9:30 |
| `0 */4 * * *` | –ö–∞–∂–¥—ã–µ 4 —á–∞—Å–∞ (0:00, 4:00, 8:00, 12:00, 16:00, 20:00) |
| `0 10,14,18 * * 1-5` | –í 10:00, 14:00 –∏ 18:00 –ø–æ –±—É–¥–Ω—è–º |
| `0 9 * * 1` | –ö–∞–∂–¥—ã–π –ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫ –≤ 9:00 |
| `0 0 1 * *` | –ü–µ—Ä–≤–æ–≥–æ —á–∏—Å–ª–∞ –∫–∞–∂–¥–æ–≥–æ –º–µ—Å—è—Ü–∞ –≤ –ø–æ–ª–Ω–æ—á—å |
| `0 22 * * 0` | –ö–∞–∂–¥–æ–µ –≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ –≤ 22:00 |

### –ù–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–π

–ú–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –∑–∞–¥–∞—á —Å —Ä–∞–∑–Ω—ã–º —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ–º:

```yaml
scheduler:
  enabled: true
  timezone: "Europe/Moscow"
  schedule:
    - cron: "0 10 * * 1-5"
      description: "–£—Ç—Ä–µ–Ω–Ω–∏–π –∞–Ω–∞–ª–∏–∑ –ø–µ—Ä–µ–¥ –æ—Ç–∫—Ä—ã—Ç–∏–µ–º NYSE"
    - cron: "0 19 * * 1-5"
      description: "–í–µ—á–µ—Ä–Ω–∏–π –∞–Ω–∞–ª–∏–∑ –ø–æ—Å–ª–µ –∑–∞–∫—Ä—ã—Ç–∏—è –±–∏—Ä–∂–∏"
    - cron: "0 12 * * 6"
      description: "–ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–π –æ–±–∑–æ—Ä –≤ —Å—É–±–±–æ—Ç—É"
```

### –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–∏

–ü—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—É—Å–∫–µ –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é:

1. üì• –ó–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∫–æ–º–ø–∞–Ω–∏–∏ –∏–∑ `config/companies.json`
2. üìà –û–±–Ω–æ–≤–ª—è—é—Ç—Å—è –∫–æ—Ç–∏—Ä–æ–≤–∫–∏ —á–µ—Ä–µ–∑ Yahoo Finance
3. ü§ñ –ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∞–Ω–∞–ª–∏–∑ —á–µ—Ä–µ–∑ –≤—Å–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ LLM-–º–æ–¥–µ–ª–∏
4. üíæ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö `data/stocks.db`
5. üìä –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è Excel-–æ—Ç—á—ë—Ç –≤ `output/exports/YYYY-MM-DD_analysis.xlsx`
6. üìù –í—Å–µ –¥–µ–π—Å—Ç–≤–∏—è –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –≤ `logs/scheduler.log`

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–∞–±–æ—Ç—ã

**–ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏:**

```bash
# Windows PowerShell
Get-Content logs\scheduler.log -Wait -Tail 50

# Linux/Mac
tail -f logs/scheduler.log
```

**–ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞ –ª–æ–≥–∞:**
```
2026-02-05 19:00:00 - scheduler - INFO - –ó–ê–ü–£–°–ö –ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–û–ì–û –ê–ù–ê–õ–ò–ó–ê
2026-02-05 19:00:01 - scheduler - INFO - –ó–∞–≥—Ä—É–∂–µ–Ω–æ 15 –∞–∫—Ü–∏–π
2026-02-05 19:02:45 - scheduler - INFO - –ê–Ω–∞–ª–∏–∑ –∑–∞–≤–µ—Ä—à–µ–Ω: 15 —É—Å–ø–µ—à–Ω–æ, 0 –æ—à–∏–±–æ–∫
2026-02-05 19:02:46 - scheduler - INFO - –û—Ç—á–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω: output/exports/2026-02-05_analysis.xlsx
```

### –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞

- **Windows:** –ù–∞–∂–º–∏—Ç–µ `Ctrl+C` –≤ –æ–∫–Ω–µ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞
- **Linux/Mac:** `Ctrl+C` –∏–ª–∏ `kill <PID>`

### –ó–∞–ø—É—Å–∫ –∫–∞–∫ —Å–ª—É–∂–±—ã (–¥–ª—è —Å–µ—Ä–≤–µ—Ä–æ–≤)

**Linux (systemd):**
```bash
# –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª /etc/systemd/system/stock-scheduler.service
[Unit]
Description=Stock Quotes Scheduler
After=network.target

[Service]
Type=simple
User=your-user
WorkingDirectory=/path/to/Stock_Quotes
ExecStart=/path/to/venv/bin/python scheduler.py
Restart=always

[Install]
WantedBy=multi-user.target

# –í–∫–ª—é—á–∏—Ç–µ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ
sudo systemctl enable stock-scheduler
sudo systemctl start stock-scheduler
```

**Windows (Task Scheduler):**
1. –û—Ç–∫—Ä–æ–π—Ç–µ "–ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞–Ω–∏–π"
2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—É—é –∑–∞–¥–∞—á—É
3. –£–∫–∞–∂–∏—Ç–µ –ø—É—Ç—å –∫ `bin\start_scheduler.bat`
4. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫ –ø—Ä–∏ –≤—Ö–æ–¥–µ –≤ —Å–∏—Å—Ç–µ–º—É

## üõ°Ô∏è –ó–∞—â–∏—Ç–∞ –æ—Ç –≥–∞–ª–ª—é—Ü–∏–Ω–∞—Ü–∏–π

–ú–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞:
- –°—Ç—Ä–æ–≥–∏–π system prompt —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏
- –ù–∏–∑–∫–∞—è temperature (0.3)
- –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞
- –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—ã—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤
- –ö–æ–Ω—Å–µ–Ω—Å—É—Å –º–µ–∂–¥—É –º–æ–¥–µ–ª—è–º–∏

## üì± –î–æ—Å—Ç—É–ø —Å –º–æ–±–∏–ª—å–Ω–æ–≥–æ

### –í –ª–æ–∫–∞–ª—å–Ω–æ–π —Å–µ—Ç–∏:
1. –£–∑–Ω–∞–π—Ç–µ IP —Å–µ—Ä–≤–µ—Ä–∞: `hostname -I`
2. –ù–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–µ: `http://192.168.x.x:8501`

### –ß–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç:
- –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –¥–µ–ø–ª–æ–π (—Å–º. —Ä–∞–∑–¥–µ–ª Deploy)
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ ngrok –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Ç–µ—Å—Ç–∞

## üê≥ –î–µ–ø–ª–æ–π —Å Docker

```bash
# –°–±–æ—Ä–∫–∞
docker build -t stock-analyzer .

# –ó–∞–ø—É—Å–∫
docker run -p 8501:8501 -v $(pwd)/data:/app/data stock-analyzer
```

–° docker-compose:
```bash
cd deploy
docker-compose up -d
```

## üìù –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–õ–æ–≥–∏ –¥–æ—Å—Ç—É–ø–Ω—ã –≤:
- `logs/analysis.log` - –∞–Ω–∞–ª–∏–∑
- `logs/scheduler.log` - –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫
- `logs/app.log` - –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

–ü—Ä–æ—Å–º–æ—Ç—Ä –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏:
```bash
tail -f logs/analysis.log
```

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### ‚úÖ –ó–∞—â–∏—Ç–∞ API –∫–ª—é—á–µ–π (v3.0)

- ‚úÖ API –∫–ª—é—á–∏ –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º —Ñ–∞–π–ª–µ `config/api_keys.yaml`
- ‚úÖ –í—Å–µ –∫–æ–Ω—Ñ–∏–≥–∏ –≤ `.gitignore` ‚Äî –Ω–µ –ø–æ–ø–∞–¥—É—Ç –≤ Git
- ‚úÖ Example-—Ñ–∞–π–ª—ã –¥–ª—è —à–∞–±–ª–æ–Ω–æ–≤ (–±–µ–∑ —Å–µ–∫—Ä–µ—Ç–æ–≤)
- ‚ùå **–ù–ï –ö–û–ú–ú–ò–¢–¨–¢–ï** —Ñ–∞–π–ª—ã —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –∫–ª—é—á–∞–º–∏!

### ‚úÖ –ü—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω–∞—è —Å—Ä–µ–¥–∞

- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `.env` –¥–ª—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö —Å–µ–∫—Ä–µ—Ç–æ–≤
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–π—Ç–µ firewall (—Ç–æ–ª—å–∫–æ –ø–æ—Ä—Ç 8501)
- ‚úÖ –†–µ–≥—É–ª—è—Ä–Ω—ã–µ –±—ç–∫–∞–ø—ã `data/stocks.db`
- ‚úÖ HTTPS —á–µ—Ä–µ–∑ nginx/Caddy –¥–ª—è –ø—É–±–ª–∏—á–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞

### üîí –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

```
config/
‚îú‚îÄ‚îÄ api_keys.yaml           ‚ùå –í .gitignore
‚îú‚îÄ‚îÄ llm_config.yaml         ‚ùå –í .gitignore
‚îú‚îÄ‚îÄ companies.json          ‚ùå –í .gitignore
‚îú‚îÄ‚îÄ api_keys.example.yaml   ‚úÖ –í Git (—à–∞–±–ª–æ–Ω)
‚îú‚îÄ‚îÄ llm_config.example.yaml ‚úÖ –í Git (—à–∞–±–ª–æ–Ω)
‚îî‚îÄ‚îÄ companies.example.json  ‚úÖ –í Git (—à–∞–±–ª–æ–Ω)
```

## ü§ù –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∏ Troubleshooting

### üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º

#### 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
```bash
python test_config_loading.py
```

#### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ—Ç–∏—Ä–æ–≤–æ–∫
```bash
python test_price_loading.py
```

#### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ë–î
```bash
python check_current_db_data.py
```

### ‚ùì –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

#### –û—à–∏–±–∫–∞: "–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –Ω–µ –Ω–∞–π–¥–µ–Ω–∞"

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –°–æ–∑–¥–∞–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –∏–∑ –ø—Ä–∏–º–µ—Ä–æ–≤
copy config\api_keys.example.yaml config\api_keys.yaml
copy config\llm_config.example.yaml config\llm_config.yaml
copy config\companies.example.json config\companies.json
```

#### –û—à–∏–±–∫–∞: "API key –Ω–µ —É–∫–∞–∑–∞–Ω"

**–†–µ—à–µ–Ω–∏–µ:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ `config/api_keys.yaml`
2. –î–æ–±–∞–≤—å—Ç–µ –∫–ª—é—á –æ—Ç OpenRouter
3. –ü–æ–ª—É—á–∏—Ç—å –∫–ª—é—á: https://openrouter.ai/keys

#### –ö–æ—Ç–∏—Ä–æ–≤–∫–∏ –Ω–µ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è

**–†–µ—à–µ–Ω–∏–µ:**
1. –ò–∑–º–µ–Ω–∏—Ç–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏—é –≤ `config/llm_config.yaml`:
   ```yaml
   price_updates:
     strategy: "always"  # –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
   ```
2. –û—á–∏—Å—Ç–∏—Ç–µ –∫—ç—à –ë–î:
   ```bash
   bin\clear_database.bat
   ```

#### –û–ø–∏—Å–∞–Ω–∏—è –∫–æ–º–ø–∞–Ω–∏–π –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –û—á–∏—Å—Ç–∏—Ç–µ –∫—ç—à
Remove-Item "data/cache/*" -Force

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
streamlit run app.py
```

### üìã –õ–æ–≥–∏

–õ–æ–≥–∏ –¥–æ—Å—Ç—É–ø–Ω—ã –≤:
- `logs/analysis.log` ‚Äî –∞–Ω–∞–ª–∏–∑ –∞–∫—Ü–∏–π
- `logs/scheduler.log` ‚Äî –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫
- `logs/app.log` ‚Äî –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

**–ü—Ä–æ—Å–º–æ—Ç—Ä –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏:**
```bash
# Windows PowerShell
Get-Content logs\analysis.log -Wait -Tail 50

# Linux/Mac
tail -f logs/analysis.log
```

### üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [QUICK_START_V3.md](QUICK_START_V3.md) ‚Äî –±—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
- [CHANGELOG_CONFIG.md](CHANGELOG_CONFIG.md) ‚Äî –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- [CHANGELOG_PROMPTS.md](CHANGELOG_PROMPTS.md) ‚Äî –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–æ–º–ø—Ç–æ–≤
- [docs/ru/–ú–ò–ì–†–ê–¶–ò–Ø_V3.md](docs/ru/–ú–ò–ì–†–ê–¶–ò–Ø_V3.md) ‚Äî –º–∏–≥—Ä–∞—Ü–∏—è —Å v2.x

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License

## üìù –ò—Å—Ç–æ—Ä–∏—è –≤–µ—Ä—Å–∏–π

### v3.0 (2026-02-04)
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ –∫–æ—Ç–∏—Ä–æ–≤–æ–∫ —á–µ—Ä–µ–∑ Yahoo Finance
- ‚úÖ –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –Ω–∞ –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–º–ø–∞–Ω–∏—è–º–∏ —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å `companies.json`
- ‚úÖ –£–ª—É—á—à–µ–Ω–Ω–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å (API –∫–ª—é—á–∏ –≤ .gitignore)
- ‚úÖ –°–∫—Ä–∏–ø—Ç –º–∏–≥—Ä–∞—Ü–∏–∏ —Å v2.x

### v2.x
- –†–∞–±–æ—Ç–∞ —Å Excel —Ñ–∞–π–ª–∞–º–∏
- –ï–¥–∏–Ω—ã–π —Ñ–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ `config.yaml`
- –†—É—á–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ—Ç–∏—Ä–æ–≤–æ–∫

## üéØ Roadmap

- [ ] Telegram –±–æ—Ç –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º–∏ –±–∏—Ä–∂–µ–≤—ã–º–∏ API
- [ ] –ú–∞—à–∏–Ω–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ –Ω–∞ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö
- [ ] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç
- [ ] REST API –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π
- [ ] –ú—É–ª—å—Ç–∏–≤–∞–ª—é—Ç–Ω–æ—Å—Ç—å (EUR, RUB, –∏ —Ç.–¥.)
