# üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (v3.0)

## üì¶ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

```
config/
‚îú‚îÄ‚îÄ api_keys.yaml          ‚Üê API –∫–ª—é—á–∏ (–Ω–µ –≤ Git)
‚îú‚îÄ‚îÄ llm_config.yaml        ‚Üê –ù–∞—Å—Ç—Ä–æ–π–∫–∏ LLM –∏ –ø—Ä–æ–µ–∫—Ç–∞ (–Ω–µ –≤ Git)
‚îú‚îÄ‚îÄ companies.json         ‚Üê –°–ø–∏—Å–æ–∫ –∫–æ–º–ø–∞–Ω–∏–π (–Ω–µ –≤ Git)
‚îÇ
‚îú‚îÄ‚îÄ api_keys.example.yaml  ‚Üê –ü—Ä–∏–º–µ—Ä—ã (–≤ Git)
‚îú‚îÄ‚îÄ llm_config.example.yaml
‚îî‚îÄ‚îÄ companies.example.json
```

## üéØ –ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫ (–Ω–æ–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å)

### 1. –°–æ–∑–¥–∞–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –∏–∑ –ø—Ä–∏–º–µ—Ä–æ–≤

```bash
# –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø—Ä–∏–º–µ—Ä—ã
copy config\api_keys.example.yaml config\api_keys.yaml
copy config\llm_config.example.yaml config\llm_config.yaml
copy config\companies.example.json config\companies.json
```

### 2. –î–æ–±–∞–≤—å—Ç–µ –≤–∞—à API –∫–ª—é—á

–û—Ç–∫—Ä–æ–π—Ç–µ `config/api_keys.yaml` –∏ –≤—Å—Ç–∞–≤—å—Ç–µ –∫–ª—é—á:

```yaml
openrouter_api_key: "sk-or-v1-–í–ê–®-–ö–õ–Æ–ß-–ó–î–ï–°–¨"
alphavantage_api_key: ""  # –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ
```

### 3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

```bash
# –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
streamlit run app.py

# –ò–ª–∏ –∫–æ–Ω—Å–æ–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑
python main.py
```

## üîÑ –ú–∏–≥—Ä–∞—Ü–∏—è —Å v2.x

–ï—Å–ª–∏ —É –≤–∞—Å —É–∂–µ –µ—Å—Ç—å `config.yaml`:

```bash
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –º–∏–≥—Ä–∞—Ü–∏—è
python scripts/migrate_to_v3.py

# –°–∫—Ä–∏–ø—Ç —Å–æ–∑–¥–∞—Å—Ç:
# - config/api_keys.yaml
# - config/llm_config.yaml
# - config/companies.json
# - config_backup_*.yaml (—Ä–µ–∑–µ—Ä–≤–Ω–∞—è –∫–æ–ø–∏—è)
```

## üìù –ß—Ç–æ –≥–¥–µ —Ö—Ä–∞–Ω–∏—Ç—Å—è?

| –§–∞–π–ª | –°–æ–¥–µ—Ä–∂–∏—Ç | –í Git? |
|------|----------|--------|
| `config/api_keys.yaml` | OpenRouter API –∫–ª—é—á | ‚ùå –ù–µ—Ç |
| `config/llm_config.yaml` | –ú–æ–¥–µ–ª–∏, –ø—Ä–æ–º–ø—Ç—ã, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ | ‚ùå –ù–µ—Ç |
| `config/companies.json` | –°–ø–∏—Å–æ–∫ –∫–æ–º–ø–∞–Ω–∏–π –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ | ‚ùå –ù–µ—Ç |
| `config/*.example.*` | –ü—Ä–∏–º–µ—Ä—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ | ‚úÖ –î–∞ |

## ‚öôÔ∏è –û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### –ú–æ–¥–µ–ª–∏ LLM (`config/llm_config.yaml`)

```yaml
models:
  - name: "GPT-4 Turbo"
    id: "openai/gpt-4-turbo"
    temperature: 0.3
    max_tokens: 1500
```

### –°—Ç—Ä–∞—Ç–µ–≥–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫–æ—Ç–∏—Ä–æ–≤–æ–∫

```yaml
price_updates:
  strategy: "daily"  # always | daily | cache_only
  min_update_interval_minutes: 15
```

**–°—Ç—Ä–∞—Ç–µ–≥–∏–∏:**
- `always` ‚Äî –≤—Å–µ–≥–¥–∞ –∑–∞–≥—Ä—É–∂–∞—Ç—å —Å–≤–µ–∂–∏–µ (–º–µ–¥–ª–µ–Ω–Ω–æ)
- `daily` ‚Äî –æ–±–Ω–æ–≤–ª—è—Ç—å —Ä–∞–∑ –≤ –¥–µ–Ω—å (‚≠ê —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
- `cache_only` ‚Äî —Ç–æ–ª—å–∫–æ –∏–∑ –ë–î (–±—ã—Å—Ç—Ä–æ, –Ω–æ —É—Å—Ç–∞—Ä–µ–≤–∞–µ—Ç)

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

```yaml
database:
  path: "data/stocks.db"  # –ø—É—Ç—å –∫ SQLite –ë–î
  keep_history: true      # —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –∏—Å—Ç–æ—Ä–∏—é
```

## üè¢ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–º–ø–∞–Ω–∏—è–º–∏

### –ß–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ `streamlit run app.py`
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª "‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏"
3. –î–æ–±–∞–≤—å—Ç–µ/—É–¥–∞–ª–∏—Ç–µ –∫–æ–º–ø–∞–Ω–∏–∏
4. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç—Å—è —Å `config/companies.json`

### –í—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ JSON

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `config/companies.json`:

```json
{
  "companies": [
    {
      "ticker": "AAPL",
      "name": "Apple Inc.",
      "sector": "Technology",
      "industry": "Consumer Electronics"
    }
  ],
  "last_updated": "2026-02-04T12:00:00"
}
```

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

```bash
# –¢–µ—Å—Ç –∑–∞–≥—Ä—É–∑–∫–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
python test_config_loading.py

# –î–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å:
# ‚úÖ –í–°–ï –ü–†–û–í–ï–†–ö–ò –ü–†–û–ô–î–ï–ù–´!
```

## ‚ùì Troubleshooting

### –û—à–∏–±–∫–∞: "–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –Ω–µ –Ω–∞–π–¥–µ–Ω–∞"

```bash
# –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ–∞–π–ª—ã —Å—É—â–µ—Å—Ç–≤—É—é—Ç
dir config\*.yaml
dir config\*.json

# –ï—Å–ª–∏ –Ω–µ—Ç - —Å–æ–∑–¥–∞–π—Ç–µ –∏–∑ –ø—Ä–∏–º–µ—Ä–æ–≤ (—Å–º. –≤—ã—à–µ)
```

### –û—à–∏–±–∫–∞: "API key –Ω–µ —É–∫–∞–∑–∞–Ω"

–û—Ç–∫—Ä–æ–π—Ç–µ `config/api_keys.yaml` –∏ –¥–æ–±–∞–≤—å—Ç–µ –∫–ª—é—á –æ—Ç OpenRouter.

–ü–æ–ª—É—á–∏—Ç—å –∫–ª—é—á: https://openrouter.ai/keys

### –ö–æ—Ç–∏—Ä–æ–≤–∫–∏ –Ω–µ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏—é –≤ `config/llm_config.yaml`:
   ```yaml
   price_updates:
     strategy: "always"  # –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –æ–±–Ω–æ–≤–ª—è—Ç—å
   ```

2. –û—á–∏—Å—Ç–∏—Ç–µ –∫—ç—à –ë–î:
   ```bash
   python -c "import sqlite3; c=sqlite3.connect('data/stocks.db'); c.execute('DELETE FROM stocks'); c.commit()"
   ```

### –û–ø–∏—Å–∞–Ω–∏—è –∫–æ–º–ø–∞–Ω–∏–π –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º

–û—á–∏—Å—Ç–∏—Ç–µ –∫—ç—à:
```bash
# –û—á–∏—Å—Ç–∫–∞ —Ñ–∞–π–ª–æ–≤–æ–≥–æ –∫—ç—à–∞
Remove-Item "data/cache/*" -Force

# –û—á–∏—Å—Ç–∫–∞ –ë–î
python -c "import sqlite3; c=sqlite3.connect('data/stocks.db'); c.execute('UPDATE companies SET description=NULL'); c.commit()"
```

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [CHANGELOG_CONFIG.md](CHANGELOG_CONFIG.md) ‚Äî —á—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- [CHANGELOG_PROMPTS.md](CHANGELOG_PROMPTS.md) ‚Äî –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–æ–º–ø—Ç–æ–≤ –¥–ª—è LLM
- [README.md](README.md) ‚Äî –ø–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
- [docs/ru/–ú–ò–ì–†–ê–¶–ò–Ø_V3.md](docs/ru/–ú–ò–ì–†–ê–¶–ò–Ø_V3.md) ‚Äî –¥–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –º–∏–≥—Ä–∞—Ü–∏–∏

## üí° –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –ó–∞–ø—É—Å–∫ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
streamlit run app.py

# –ö–æ–Ω—Å–æ–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑
python main.py

# –¢–µ—Å—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫–æ—Ç–∏—Ä–æ–≤–æ–∫
python test_price_loading.py

# –¢–µ—Å—Ç —Å—Ç—Ä–∞—Ç–µ–≥–∏–π –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
python test_update_strategies.py

# –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (–≤—Å—ë –≤ –æ–¥–Ω–æ–º)
bin\quick_start.bat
```

---

**–í–µ—Ä—Å–∏—è:** 3.0  
**–î–∞—Ç–∞:** 2026-02-04  
**–õ–∏—Ü–µ–Ω–∑–∏—è:** MIT
