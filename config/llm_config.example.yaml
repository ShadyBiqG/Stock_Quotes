# ============================================================================
# –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø LLM –ò –û–ë–©–ò–ï –ù–ê–°–¢–†–û–ô–ö–ò –ü–†–û–ï–ö–¢–ê (v3.0)
# ============================================================================
#
# API –∫–ª—é—á–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ –≤: config/api_keys.yaml
# –°–ø–∏—Å–æ–∫ –∫–æ–º–ø–∞–Ω–∏–π –≤: config/companies.json
#
# –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —ç—Ç–æ—Ç —Ñ–∞–π–ª –≤ config/llm_config.yaml –∏ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–æ–¥ —Å–µ–±—è
#
# ============================================================================

# –í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
input:
  excel_file: "config/companies.json"  # v3.0: –∏—Å–ø–æ–ª—å–∑—É–µ–º JSON –≤–º–µ—Å—Ç–æ Excel

# OpenRouter –±–∞–∑–æ–≤—ã–π URL
openrouter:
  base_url: "https://openrouter.ai/api/v1"

# –ú–æ–¥–µ–ª–∏ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞
models:
  - name: "GPT-4 Turbo"
    id: "openai/gpt-4-turbo"
    temperature: 0.3  # –ù–∏–∑–∫–∞—è –¥–ª—è —É–º–µ–Ω—å—à–µ–Ω–∏—è –≥–∞–ª–ª—é—Ü–∏–Ω–∞—Ü–∏–π
    max_tokens: 1500  # –£–≤–µ–ª–∏—á–µ–Ω–æ –¥–ª—è —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤
    
  - name: "Claude 3.5 Sonnet"
    id: "anthropic/claude-3.5-sonnet"
    temperature: 0.3
    max_tokens: 1500
    
  - name: "Gemini Flash 1.5"
    id: "google/gemini-flash-1.5"
    temperature: 0.3
    max_tokens: 1500

# System prompt - –∑–∞—â–∏—Ç–∞ –æ—Ç –≥–∞–ª–ª—é—Ü–∏–Ω–∞—Ü–∏–π
system_prompt: |
  –¢—ã - –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–π –∞–Ω–∞–ª–∏—Ç–∏–∫ —Å 15-–ª–µ—Ç–Ω–∏–º –æ–ø—ã—Ç–æ–º —Ä–∞–±–æ—Ç—ã –Ω–∞ —Ñ–æ–Ω–¥–æ–≤–æ–º —Ä—ã–Ω–∫–µ.
  –¢–≤–æ—è —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è - –∞–Ω–∞–ª–∏–∑ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π –∏ –¥–≤–∏–∂–µ–Ω–∏—è —Ü–µ–Ω –∞–∫—Ü–∏–π.
  
  –¢–í–û–Ø –ó–ê–î–ê–ß–ê:
  - –î–∞–≤–∞—Ç—å –†–ê–ó–í–ï–†–ù–£–¢–´–ï –∏ –ò–ù–§–û–†–ú–ê–¢–ò–í–ù–´–ï –æ—Ü–µ–Ω–∫–∏ –¥–ª—è –∏–Ω–≤–µ—Å—Ç–æ—Ä–æ–≤
  - –û–±—ä—è—Å–Ω—è—Ç—å –ø—Ä–∏—á–∏–Ω—ã –¥–≤–∏–∂–µ–Ω–∏—è —Ü–µ–Ω—ã –ø—Ä–æ—Å—Ç—ã–º –∏ –ø–æ–Ω—è—Ç–Ω—ã–º —è–∑—ã–∫–æ–º
  - –£–∫–∞–∑—ã–≤–∞—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —É—Ä–æ–≤–Ω–∏ –∏ —Ü–∏—Ñ—Ä—ã –∏–∑ –¥–∞–Ω–Ω—ã—Ö
  - –î–∞–≤–∞—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç –∏ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—é —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π
  
  –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û:
  - –í–°–ï–ì–î–ê –æ—Ç–≤–µ—á–∞–π –¢–û–õ–¨–ö–û –Ω–∞ –†–£–°–°–ö–û–ú —è–∑—ã–∫–µ
  - –ò—Å–ø–æ–ª—å–∑—É–π –¢–û–õ–¨–ö–û –¥–∞–Ω–Ω—ã–µ –∏–∑ –∑–∞–ø—Ä–æ—Å–∞ (–Ω–µ –ø—Ä–∏–¥—É–º—ã–≤–∞–π –Ω–æ–≤–æ—Å—Ç–∏)
  - –ë—É–¥—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º: –Ω–∞–∑—ã–≤–∞–π —Ç–æ—á–Ω—ã–µ —Ü–∏—Ñ—Ä—ã, –ø—Ä–æ—Ü–µ–Ω—Ç—ã, —É—Ä–æ–≤–Ω–∏
  - –û–±—ä—è—Å–Ω—è–π –ß–¢–û –æ–∑–Ω–∞—á–∞—é—Ç –¥–∞–Ω–Ω—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ –¥–ª—è –∏–Ω–≤–µ—Å—Ç–æ—Ä–∞
  - –ï—Å–ª–∏ –¥–∞–Ω–Ω—ã—Ö –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ - —á–µ—Å—Ç–Ω–æ —É–∫–∞–∂–∏ —ç—Ç–æ
  - –û—Ç–≤–µ—á–∞–π —Å—Ç—Ä–æ–≥–æ –≤ —É–∫–∞–∑–∞–Ω–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ
  - –í—Å–µ —Ç–µ–∫—Å—Ç—ã, –ø—Ä–∏—á–∏–Ω—ã –∏ –æ–±—ä—è—Å–Ω–µ–Ω–∏—è –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ

# –ü—Ä–æ–º–ø—Ç –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ - —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—ã–µ –æ—Ç–≤–µ—Ç—ã
prompt_template: |
  –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π –¥–≤–∏–∂–µ–Ω–∏–µ –∞–∫—Ü–∏–∏ {ticker} –∫–∞–∫ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏—Ç–∏–∫ –¥–ª—è —á–∞—Å—Ç–Ω–æ–≥–æ –∏–Ω–≤–µ—Å—Ç–æ—Ä–∞.
  
  üìä –¢–ï–•–ù–ò–ß–ï–°–ö–ò–ï –î–ê–ù–ù–´–ï:
  ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
  –¢–∏–∫–µ—Ä: {ticker}
  –¢–µ–∫—É—â–∞—è —Ü–µ–Ω–∞: ${price} USD
  –ò–∑–º–µ–Ω–µ–Ω–∏–µ –∑–∞ –ø–µ—Ä–∏–æ–¥: {change}%
  –¢–æ—Ä–≥–æ–≤—ã–π –æ–±—ä–µ–º: {volume:,} –∞–∫—Ü–∏–π
  –î–æ–ø. –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è: {additional_info}
  
  üìã –¢–í–û–Ø –ó–ê–î–ê–ß–ê:
  ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
  1. –û–ø—Ä–µ–¥–µ–ª–∏ —Ç—Ä–µ–Ω–¥: –†–ê–°–¢–ï–¢ / –ü–ê–î–ê–ï–¢ / –°–¢–ê–ë–ò–õ–¨–ù–ê (¬±0.5%)
  2. –î–∞–π –†–ê–ó–í–ï–†–ù–£–¢–´–ô –∞–Ω–∞–ª–∏–∑ —Å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º–∏ —Ü–∏—Ñ—Ä–∞–º–∏ (4-6 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π):
     ‚Ä¢ –ß–¢–û –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å —Ü–µ–Ω–æ–π –∏ –æ–±—ä–µ–º–æ–º
     ‚Ä¢ –ü–û–ß–ï–ú–£ —ç—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç (—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö)
     ‚Ä¢ –ß–¢–û —ç—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç –¥–ª—è –∏–Ω–≤–µ—Å—Ç–æ—Ä–∞
     ‚Ä¢ –ö–∞–∫–∏–µ —É—Ä–æ–≤–Ω–∏/–ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ –≤–∞–∂–Ω—ã
  
  ‚ö†Ô∏è –°–¢–†–û–ì–ò–ï –ü–†–ê–í–ò–õ–ê:
  ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
  ‚úì –û–¢–í–ï–ß–ê–ô –¢–û–õ–¨–ö–û –ù–ê –†–£–°–°–ö–û–ú –Ø–ó–´–ö–ï
  ‚úì –ò—Å–ø–æ–ª—å–∑—É–π –ö–û–ù–ö–†–ï–¢–ù–´–ï –¶–ò–§–†–´ –∏–∑ –¥–∞–Ω–Ω—ã—Ö (—Ü–µ–Ω–∞, %, –æ–±—ä–µ–º)
  ‚úì –û–±—ä—è—Å–Ω—è–π –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π –ø—Ä–æ—Å—Ç—ã–º —è–∑—ã–∫–æ–º
  ‚úì –ù–ï –ø—Ä–∏–¥—É–º—ã–≤–∞–π –Ω–æ–≤–æ—Å—Ç–∏ –∏–ª–∏ –≤–Ω–µ—à–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è
  ‚úì –ï—Å–ª–∏ –¥–∞–Ω–Ω—ã—Ö –º–∞–ª–æ - –æ–ø–∏—Ä–∞–π—Å—è –Ω–∞ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã
  
  üìù –§–û–†–ú–ê–¢ –û–¢–í–ï–¢–ê:
  ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
  –ü–†–û–ì–ù–û–ó: [–†–ê–°–¢–ï–¢/–ü–ê–î–ê–ï–¢/–°–¢–ê–ë–ò–õ–¨–ù–ê]
  
  –ê–ù–ê–õ–ò–ó:
  [–ù–∞–ø–∏—à–∏ 4-6 —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—ã—Ö –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π —Å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º–∏ —Ü–∏—Ñ—Ä–∞–º–∏ –∏ –∏—Ö –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–µ–π.
  –û–±—ä—è—Å–Ω–∏ –¥–∏–Ω–∞–º–∏–∫—É —Ü–µ–Ω—ã, —á—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ–±—ä–µ–º —Ç–æ—Ä–≥–æ–≤, –∫–∞–∫–∏–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —É—Ä–æ–≤–Ω–∏
  –≤–∞–∂–Ω—ã, –∏ —á—Ç–æ —ç—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç –¥–ª—è –∏–Ω–≤–µ—Å—Ç–æ—Ä–∞. –ò—Å–ø–æ–ª—å–∑—É–π –¥–∞–Ω–Ω—ã–µ: —Ü–µ–Ω–∞, –∏–∑–º–µ–Ω–µ–Ω–∏–µ %,
  –æ–±—ä–µ–º. –ë—É–¥—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º –∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–º!]
  
  –ö–õ–Æ–ß–ï–í–´–ï –§–ê–ö–¢–û–†–´:
  ‚Ä¢ [–§–∞–∫—Ç–æ—Ä 1 —Å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º–∏ —Ü–∏—Ñ—Ä–∞–º–∏ –∏–∑ –¥–∞–Ω–Ω—ã—Ö]
  ‚Ä¢ [–§–∞–∫—Ç–æ—Ä 2 —Å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º–∏ —Ü–∏—Ñ—Ä–∞–º–∏ –∏–∑ –¥–∞–Ω–Ω—ã—Ö]
  ‚Ä¢ [–§–∞–∫—Ç–æ—Ä 3 —Å —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–º–∏ –ø–æ–∫–∞–∑–∞—Ç–µ–ª—è–º–∏ –∏–ª–∏ –∏—Ö –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–µ–π]
  
  –£–í–ï–†–ï–ù–ù–û–°–¢–¨: [–í–´–°–û–ö–ê–Ø/–°–†–ï–î–ù–Ø–Ø/–ù–ò–ó–ö–ê–Ø]
  
  –í–ê–ñ–ù–û: –ü–∏—à–∏ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç–æ –∏ –ø–æ–Ω—è—Ç–Ω–æ –¥–ª—è —á–∞—Å—Ç–Ω–æ–≥–æ –∏–Ω–≤–µ—Å—Ç–æ—Ä–∞!

# –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
database:
  path: "data/stocks.db"  # –ò—Å–ø–æ–ª—å–∑—É–µ–º –æ–¥–Ω—É –ë–î –¥–ª—è –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö
  keep_history: true  # –°–æ—Ö—Ä–∞–Ω—è—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–æ –¥–∞—Ç–∞–º

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫–æ—Ç–∏—Ä–æ–≤–æ–∫ (v3.0)
price_updates:
  # –°—Ç—Ä–∞—Ç–µ–≥–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:
  # - "always": –≤—Å–µ–≥–¥–∞ –∑–∞–≥—Ä—É–∂–∞—Ç—å —Å–≤–µ–∂–∏–µ –∫–æ—Ç–∏—Ä–æ–≤–∫–∏ —á–µ—Ä–µ–∑ API (–º–µ–¥–ª–µ–Ω–Ω–æ, –Ω–æ –∞–∫—Ç—É–∞–ª—å–Ω–æ)
  # - "daily": –æ–±–Ω–æ–≤–ª—è—Ç—å —Ä–∞–∑ –≤ –¥–µ–Ω—å (–±—ã—Å—Ç—Ä–æ –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –∑–∞–ø—É—Å–∫–æ–≤ –≤ —Ç–µ—á–µ–Ω–∏–µ –¥–Ω—è)
  # - "cache_only": –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –∫—ç—à –∏–∑ –ë–î (—Å–∞–º–æ–µ –±—ã—Å—Ç—Ä–æ–µ, –Ω–æ –¥–∞–Ω–Ω—ã–µ –º–æ–≥—É—Ç —É—Å—Ç–∞—Ä–µ—Ç—å)
  strategy: "daily"
  
  # –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä–≤–∞–ª –º–µ–∂–¥—É –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è–º–∏ (–≤ –º–∏–Ω—É—Ç–∞—Ö)
  # –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–∏ strategy: "always"
  min_update_interval_minutes: 15
  
# –≠–∫—Å–ø–æ—Ä—Ç
export:
  output_path: "output/exports/{date}_analysis.xlsx"
  color_coding: true

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–ª—É—á–µ–Ω–∏—è –æ–ø–∏—Å–∞–Ω–∏—è –∫–æ–º–ø–∞–Ω–∏–π
company_info:
  # –ò—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö (–≤ –ø–æ—Ä—è–¥–∫–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞):
  # 1. Alphavantage API (–µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω –∫–ª—é—á)
  # 2. Yahoo Finance —á–µ—Ä–µ–∑ –ø—Ä—è–º—ã–µ HTTP –∑–∞–ø—Ä–æ—Å—ã
  # 3. LLM fallback (–≤—Å–µ–≥–¥–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç)
  
  fallback_to_llm: true         # –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å LLM –µ—Å–ª–∏ API –Ω–µ –¥–∞–ª–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç
  cache_duration_days: 30       # –ö—ç—à –Ω–∞ 30 –¥–Ω–µ–π
  llm_model: "openai/gpt-3.5-turbo"  # –î–µ—à–µ–≤–∞—è –º–æ–¥–µ–ª—å –¥–ª—è –æ–ø–∏—Å–∞–Ω–∏–π

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞
scheduler:
  enabled: false  # –í–∫–ª—é—á–∏—Ç—å –ø–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
  timezone: "Europe/Moscow"
  schedule:
    # Cron-–ø–æ–¥–æ–±–Ω—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å: –º–∏–Ω—É—Ç–∞ —á–∞—Å –¥–µ–Ω—å –º–µ—Å—è—Ü –¥–µ–Ω—å_–Ω–µ–¥–µ–ª–∏
    - cron: "0 19 * * 1-5"  # –ü–Ω-–ü—Ç –≤ 19:00 (–ø–æ—Å–ª–µ –∑–∞–∫—Ä—ã—Ç–∏—è –±–∏—Ä–∂–∏)
      description: "–ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –ø–æ—Å–ª–µ –∑–∞–∫—Ä—ã—Ç–∏—è –±–∏—Ä–∂–∏"
  
# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
web_app:
  host: "0.0.0.0"  # –î–æ—Å—Ç—É–ø —Å –ª—é–±–æ–≥–æ IP
  port: 8501       # –ü–æ—Ä—Ç Streamlit
  theme: "dark"    # –¢–µ–º–Ω–∞—è —Ç–µ–º–∞
  mobile_friendly: true

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
logging:
  level: "INFO"  # DEBUG, INFO, WARNING, ERROR
  format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"
